<div class="container py-4">
  <div class="row">
    <!-- TOOLBAR -->
    <div class="row">
      <div class="col">
        <h1>Cassa</h1>
      </div>
      <div class="col">
        <div class="btn-group" role="group" aria-label="Change display mode">
          <button (click)="displayMode.set('list')" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/></svg>
          </button>
          <button (click)="displayMode.set('grid')" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid-3x3" viewBox="0 0 16 16"><path d="M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"/></svg>
          </button>
        </div>
      </div>
    </div>

    <!-- TABLE / GRID -->
    <div class="col-8">
      @if ( displayMode() === 'list' ) {
        <div class="row sticky-top border mb-3 bg-primary">
          <div class="col-1 border p-3">#</div>
          <div class="col border p-3">Nome</div>
          <div class="col border p-3">Prezzo</div>
          <div class="col-5 border p-3">Kg</div>
        </div>
        @for( product of productList; track $index ) {
          <!-- ROW OF LIST -->
          <div class="row">
            <div class="col-1 border">{{ $index }}</div>
            <div class="col border">{{ product.name }}</div>
            <div class="col border">{{ product.price }} €</div>
            <div class="col-5 border">
              <div class="row">
                <div class="col">
                  <button>-</button>
                </div>
                <div class="col">
                  <input class="form-control" type="text" [value]="$index" /> <!-- Set dynamic -->
                </div>
                <div class="col">
                  <button>+</button>
                </div>
              </div>
            </div>
          </div>
        }
      }
      @else {
        @for( product of productList; track $index ) {
          <!-- CELL OF GRID -->
          <div class="row">
            <div class="col border">{{ product.name }}</div>
          </div>
        }
      }
    </div>
    <!-- CASSA -->
    <div class="col-4 bg-light py-5 px-4">
      <div class="row sticky-top">
        <h2 class="text-end">{{ client.date }}</h2>
        <hr />
        @for( product of client.bought; track $index ) {
          <div class="row text-end">
            <div class="col-6 text-start">{{ product.name }}</div>
            <div class="col">x{{ product.quantity }}</div>
            <div class="col">{{ product.subtotal }} €</div>
          </div>
        }
        <hr />
        <h3 class="text-end">Total: {{ total }} €</h3>

      </div>
    </div>
  </div>
</div>
